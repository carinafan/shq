---
title: "SHQ Recruitment"
date: "Last updated: `r format(Sys.time(), '%B %d, %Y')`"
output: 
  github_document:
    toc: true
---

This script pulls email addresses from previous studies for purposes of recruiting for SHQ. For now, I'm going to copy + paste this list into a separate Google Sheet so an RA can help with compensation (un-ideal, I know). I'll try to think of something better in the future.

The current status of the Google Sheet is: includes all emails from `2020-07-20-followup-extraclean.csv` who completed the followup in 2019. 

# Recruitment process

1. Pull email addresses from previous studies (i.e., what this script does).

2. Paste emails into Google Sheet.

3. Periodically download Qualtrics and SHQ data. In Google Sheet, check off Qualtrics and SHQ as they get completed, and fill in the SHQ ID on there for reference.


<!-- ======================================================================= -->


# Set up

```{r packages}
library(lubridate)
library(readxl)
library(magrittr)
library(tidyverse)
```

```{r data}
# followup 

df.flup = read.csv("../../online/sdam-followup/data/2020-07-20-followup-extraclean.csv") %>% 
  select(subjectID, recorded_date)

df.flup.id = read_excel("../../online/sdam-followup/data/2020-07-20-followup-subjectID.xlsx")
```


<!-- ======================================================================= -->


# Follow-up data

## As of 2020-07-20

### 2019 responses

```{r}
df.flup.2019 = df.flup %>% 
  filter(year(recorded_date) == 2019)

df.flup.2019 %<>% 
  left_join(df.flup.id)

df.flup.2019$recorded_date = NULL

df.flup.2019 %>% 
  write.csv("emails/2020-07-20-flup-2019.csv",
            row.names = FALSE)
```


<!-- ======================================================================= -->


# Session info

```{r session_info, include = TRUE}
sessionInfo()
```